{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.search-form');\nconst galleryCard = document.querySelector('.gallery');\n\nform.addEventListener('submit', handlerSearchPicture);\n\nasync function handlerSearchPicture(evt) {\n  evt.preventDefault();\n  const searchValue = evt.target.elements.searchQuery.value.trim();\n  if (!searchValue) {\n    return iziToast.error({\n      title: 'Error',\n      message: 'Please type your search image',\n      position: 'topRight',\n      timeout: 3000,\n    });\n  }\n  servicePicture(searchValue);\n\n  //createMarkup(dataPixabay);\n}\n\nasync function servicePicture(searchValue) {\n  const BASE_URL = 'https://pixabay.com/api/?';\n  const API_KEY = '42224356-31537d6cd2f97832aeb8b3ce8';\n  const searchTerm = searchValue;\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: `${searchTerm}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const dataPixabay = await axios\n    .get(`${BASE_URL}${params}`)\n    .then(response => {\n      return response.data.hits;\n    })\n    .catch(error => console.log(error));\n\n  if (dataPixabay.length === 0) {\n    return iziToast.error({\n      title: 'Error',\n      message:\n        'Sorry, there are no images matching your search query. Please try again.',\n      position: 'topRight',\n      timeout: 3000,\n    });\n  }\n  iziToast.success({\n    title: 'OK',\n    message: 'Successfully found pictures!',\n    position: 'topRight',\n    timeout: 2000,\n  });\n\n  return console.log(dataPixabay);\n}\n\nasync function createMarkup(dataPixabay) {\n  const card = await dataPixabay\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        `<div class=\"photo-card\">\n    <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n    <div class=\"info\">\n        <p class=\"info-item\">\n            <b>${likes}</b>\n        </p>\n            <p class=\"info-item\">\n        <b>${views}</b>\n        </p>\n        <p class=\"info-item\">\n            <b>${comments}</b>\n        </p>\n        <p class=\"info-item\">\n            <b>${downloads}</b>\n        </p>\n    </div>\n</div>`;\n      }\n    )\n    .join('');\n  return galleryCard.insertAdjacentHTML('beforeend', card);\n}\n"],"names":["form","handlerSearchPicture","evt","searchValue","iziToast","servicePicture","BASE_URL","API_KEY","searchTerm","params","dataPixabay","axios","response","error"],"mappings":"wvBAIA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC9B,SAAS,cAAc,UAAU,EAErDA,EAAK,iBAAiB,SAAUC,CAAoB,EAEpD,eAAeA,EAAqBC,EAAK,CACvCA,EAAI,eAAc,EAClB,MAAMC,EAAcD,EAAI,OAAO,SAAS,YAAY,MAAM,OAC1D,GAAI,CAACC,EACH,OAAOC,EAAS,MAAM,CACpB,MAAO,QACP,QAAS,gCACT,SAAU,WACV,QAAS,GACf,CAAK,EAEHC,EAAeF,CAAW,CAG5B,CAEA,eAAeE,EAAeF,EAAa,CACzC,MAAMG,EAAW,4BACXC,EAAU,qCACVC,EAAaL,EAEbM,EAAS,IAAI,gBAAgB,CACjC,IAAKF,EACL,EAAG,GAAGC,CAAU,GAChB,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKE,EAAc,MAAMC,EACvB,IAAI,GAAGL,CAAQ,GAAGG,CAAM,EAAE,EAC1B,KAAKG,GACGA,EAAS,KAAK,IACtB,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEpC,OAAIH,EAAY,SAAW,EAClBN,EAAS,MAAM,CACpB,MAAO,QACP,QACE,2EACF,SAAU,WACV,QAAS,GACf,CAAK,GAEHA,EAAS,QAAQ,CACf,MAAO,KACP,QAAS,+BACT,SAAU,WACV,QAAS,GACb,CAAG,EAEM,QAAQ,IAAIM,CAAW,EAChC"}